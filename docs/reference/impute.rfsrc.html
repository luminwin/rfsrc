<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Impute Only Mode — impute.rfsrc • Fast Unified Random Forests with randomForestSRC</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Impute Only Mode — impute.rfsrc" />
<meta property="og:description" content="Fast imputation mode.  A random forest is grown and used to impute
  missing data.  No ensemble estimates or error rates are calculated." />
<meta property="og:image" content="https://www.randomforestsrc.org/logo.svg" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-WZWXVK817Z"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-WZWXVK817Z');
</script>


  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">Fast Unified Random Forests with randomForestSRC</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Development version">3.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../articles/getstarted.html">
    <span class="fas fa-home fa-lg"></span>
     
    Getting Started
  </a>
</li>
<li>
  <a href="../articles/installation.html">Installation</a>
</li>
<li>
  <a href="../cheatsheets.pdf">Cheatsheet</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/parallel.html">Parallel Processing</a>
    </li>
    <li>
      <a href="../articles/hybrid.html">Hybrid Parallel Processing</a>
    </li>
    <li>
      <a href="../articles/algorithm.html">randomForestSRC Algorithm</a>
    </li>
    <li>
      <a href="../articles/speedup.html">Speedup Random Forest Analyses</a>
    </li>
    <li>
      <a href="../articles/forestWgt.html">Forest Weights, In-Bag (IB) and Out-of-Bag (OOB) Ensembles</a>
    </li>
    <li>
      <a href="../articles/survival.html">Random Survival Forests</a>
    </li>
    <li>
      <a href="../articles/competing.html">Competing Risks</a>
    </li>
    <li>
      <a href="../articles/imbalance.html">Random Forests Quantile Classifier (RFQ)</a>
    </li>
    <li>
      <a href="../articles/mvsplit.html">Multivariate Splitting Rule</a>
    </li>
    <li>
      <a href="../articles/sidClustering.html">sidClustering</a>
    </li>
    <li>
      <a href="../articles/rfsrc-subsample.html">Variable Importance (VIMP) with Subsampling Inference</a>
    </li>
    <li>
      <a href="../articles/minidep.html">Minimal Depth</a>
    </li>
    <li>
      <a href="../articles/partial.html">Partial Plots</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Manual</a>
</li>
<li>
  <a href="https://github.com/kogalur/randomForestSRC/issues">Bug Reporting</a>
</li>
<li>
  <a href="https://github.com/kogalur/randomForestSRC/discussions">Discussions</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
<li>
  <a href="https://kogalur.github.io/randomForestSRC/javadoc">Java API</a>
</li>
<li>
  <a href="https://github.com/kogalur/randomForestSRC/">
    <span class="fab fa-github fa-lg"></span>
     
    GitHub
  </a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Impute Only Mode</h1>
    
    <div class="hidden name"><code>impute.rfsrc.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Fast imputation mode.  A random forest is grown and used to impute
  missing data.  No ensemble estimates or error rates are calculated.</p>
    </div>

    <pre class="usage"><span class='fu'>impute</span><span class='op'>(</span><span class='va'>formula</span>, <span class='va'>data</span>,
  ntree <span class='op'>=</span> <span class='fl'>100</span>, nodesize <span class='op'>=</span> <span class='fl'>1</span>, nsplit <span class='op'>=</span> <span class='fl'>10</span>,
  nimpute <span class='op'>=</span> <span class='fl'>2</span>, fast <span class='op'>=</span> <span class='cn'>FALSE</span>, <span class='va'>blocks</span>, 
  <span class='va'>mf.q</span>, max.iter <span class='op'>=</span> <span class='fl'>10</span>, eps <span class='op'>=</span> <span class='fl'>0.01</span>, 
  ytry <span class='op'>=</span> <span class='cn'>NULL</span>, always.use <span class='op'>=</span> <span class='cn'>NULL</span>, verbose <span class='op'>=</span> <span class='cn'>TRUE</span>,
  <span class='va'>...</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>formula</th>
      <td><p>A symbolic description of the model to be fit.  Can be
    left unspecified if there are no outcomes or we don't care to
    distinguish between y-outcomes and x-variables in the imputation.
    Ignored when using multivariate missForest imputation.</p></td>
    </tr>
    <tr>
      <th>data</th>
      <td><p>Data frame containing the data to be imputed.</p></td>
    </tr>
    <tr>
      <th>ntree</th>
      <td><p>Number of trees to grow.</p></td>
    </tr>
    <tr>
      <th>nodesize</th>
      <td><p>Forest average terminal node size.</p></td>
    </tr>
    <tr>
      <th>nsplit</th>
      <td><p>Non-negative integer value used to specify random splitting.</p></td>
    </tr>
    <tr>
      <th>nimpute</th>
      <td><p>Number of iterations of the missing data algorithm.
    Ignored for multivariate missForest; in which case the algorithm
    iterates until a convergence criteria is achieved (users can
    however enforce a maximum number of iterations with the option
    <code>max.iter</code>).</p></td>
    </tr>
    <tr>
      <th>fast</th>
      <td><p>Use fast random forests, <code>rfsrcFast</code>, in place of
    <code>rfsrc</code>?  Improves speed but is less accurate.</p></td>
    </tr>
    <tr>
      <th>blocks</th>
      <td><p>Integer value specifying the number of blocks the data
    should be broken up into (by rows).  This can improve computational
    efficiency when the sample size is large but imputation efficiency
    decreases.  By default, no action is taken if left unspecified.</p></td>
    </tr>
    <tr>
      <th>mf.q</th>
      <td><p>Use this to turn on missForest (which is off by default).
    Specifies fraction of variables (between 0 and 1) used as responses
    in multivariate missForest imputation.  When set to 1 this
    corresponds to missForest, otherwise multivariate missForest is
    used. Can also be an integer, in
    which case this equals the number of multivariate responses.</p></td>
    </tr>
    <tr>
      <th>max.iter</th>
      <td><p>Maximum number of iterations used when implementing
    multivariate missForest imputation.</p></td>
    </tr>
    <tr>
      <th>eps</th>
      <td><p>Tolerance value used to determine convergence of
    multivariate missForest imputation.</p></td>
    </tr>
    <tr>
      <th>ytry</th>
      <td><p>Number of variables used as pseudo-responses in
    unsupervised forests.  See details below.</p></td>
    </tr>
    <tr>
      <th>always.use</th>
      <td><p>Character vector of variable names to always
    be included as a response in multivariate missForest imputation.
    Does not apply for other imputation methods.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>Send verbose output to terminal (only applies to
    multivariate missForest imputation).</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Further arguments passed to or from other methods.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p></p><ol>
<li><p>Grow a forest and use this to impute data.  All external
    calculations such as ensemble calculations, error rates, etc. are
    turned off.  Use this function if your only interest is imputing the
    data.</p></li>
<li><p>Split statistics are calculated using non-misssing data only.
    If a node splits on a variable with missing data, the variable's
    missing data is imputed by randomly drawing values from non-missing
    in-bag data.  The purpose of this is to make it possible to assign
    cases to daughter nodes based on the split.</p></li>
<li><p>If no formula is specified, unsupervised splitting is
    implemented using a <code>ytry</code> value of sqrt(<code>p</code>) where
    <code>p</code> equals the number of variables.  More precisely,
    <code>mtry</code> variables are selected at random, and for each of these
    a random subset of <code>ytry</code> variables are selected and defined as
    the multivariate pseudo-responses.  A multivariate composite
    splitting rule of dimension <code>ytry</code> is then applied to each of
    the <code>mtry</code> multivariate regression problems and the node split
    on the variable leading to the best split (Tang and Ishwaran, 2017).</p></li>
<li><p>If <code>mf.q</code> is specified, a multivariate version of
    missForest imputation (Stekhoven and Buhlmann, 2012) is applied.
    Specifically, a fraction <code>mf.q</code> of variables are used as
    multivariate responses and split by the remaining variables using
    multivariate composite splitting (Tang and Ishwaran, 2017).  Missing
    data for responses are imputed by prediction.  The process is
    repeated using a new set of variables for responses (mutually
    exclusive to the previous fit), until all variables have been
    imputed.  This is one iteration.  The entire process is repeated,
    and the algorithm iterated until a convergence criteria is met
    (specified using options <code>max.iter</code> and <code>eps</code>).  Integer
    values for <code>mf.q</code> are allowed and interpreted as a request that
    <code>mf.q</code> variables be selected for the multivariate response.  If
    <code>mf.q=1</code>, the algorithm reverts to the original missForest
    procedure. This is generally the most accurate of all the
    imputation procedures, but also the most computationally demanding.
    See examples below for strategies to increase speed.</p></li>
<li><p>Prior to imputation, the data is processed and records with
    all values missing are removed, as are variables having all missing
    values.</p></li>
<li><p>If there is no missing data, either before or after processing
    of the data, the algorithm returns the processed data and no
    imputation is performed.</p></li>
<li><p>All options are the same as <code class='command'>rfsrc</code> and the user should
    consult the <code class='command'>rfsrc</code> help file for details.</p></li>
</ol>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Invisibly, the data frame containing the orginal data with imputed
  data overlaid.</p>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Hemant Ishwaran and Udaya B. Kogalur</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Ishwaran H., Kogalur U.B., Blackstone E.H. and Lauer M.S.
  (2008).  Random survival forests, <em>Ann. App.
    Statist.</em>, 2:841-860.</p>  
<p>Stekhoven D.J. and Buhlmann P. (2012). MissForest--non-parametric
  missing value imputation for mixed-type data.
  <em>Bioinformatics</em>, 28(1):112-118.</p>  
<p>Tang F. and Ishwaran H. (2017).  Random forest missing data
  algorithms.  <em>Statistical Analysis and Data Mining</em>, 10:363-377.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code class='command'><a href='rfsrc.html'>rfsrc</a></code>,
  <code class='command'><a href='rfsrc.fast.html'>rfsrc.fast</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='co'># \donttest{</span>
<span class='co'>## ------------------------------------------------------------</span>
<span class='co'>## example of survival imputation</span>
<span class='co'>## ------------------------------------------------------------</span>

<span class='co'>## default everything - unsupervised splitting</span>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='va'>pbc</span>, package <span class='op'>=</span> <span class='st'>"randomForestSRC"</span><span class='op'>)</span>
<span class='va'>pbc1.d</span> <span class='op'>&lt;-</span> <span class='fu'>impute</span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>pbc</span><span class='op'>)</span>

<span class='co'>## imputation using outcome splitting</span>
<span class='va'>f</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/formula.html'>as.formula</a></span><span class='op'>(</span><span class='fu'>Surv</span><span class='op'>(</span><span class='va'>days</span>, <span class='va'>status</span><span class='op'>)</span> <span class='op'>~</span> <span class='va'>.</span><span class='op'>)</span>
<span class='va'>pbc2.d</span> <span class='op'>&lt;-</span> <span class='fu'>impute</span><span class='op'>(</span><span class='va'>f</span>, data <span class='op'>=</span> <span class='va'>pbc</span>, nsplit <span class='op'>=</span> <span class='fl'>3</span><span class='op'>)</span>

<span class='co'>## random splitting can be reasonably good</span>
<span class='va'>pbc3.d</span> <span class='op'>&lt;-</span> <span class='fu'>impute</span><span class='op'>(</span><span class='va'>f</span>, data <span class='op'>=</span> <span class='va'>pbc</span>, splitrule <span class='op'>=</span> <span class='st'>"random"</span>, nimpute <span class='op'>=</span> <span class='fl'>5</span><span class='op'>)</span>

<span class='co'>## ------------------------------------------------------------</span>
<span class='co'>## example of regression imputation</span>
<span class='co'>## ------------------------------------------------------------</span>

<span class='va'>air1.d</span> <span class='op'>&lt;-</span> <span class='fu'>impute</span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>airquality</span>, nimpute <span class='op'>=</span> <span class='fl'>5</span><span class='op'>)</span>
<span class='va'>air2.d</span> <span class='op'>&lt;-</span> <span class='fu'>impute</span><span class='op'>(</span><span class='va'>Ozone</span> <span class='op'>~</span> <span class='va'>.</span>, data <span class='op'>=</span> <span class='va'>airquality</span>, nimpute <span class='op'>=</span> <span class='fl'>5</span><span class='op'>)</span>
<span class='va'>air3.d</span> <span class='op'>&lt;-</span> <span class='fu'>impute</span><span class='op'>(</span><span class='va'>Ozone</span> <span class='op'>~</span> <span class='va'>.</span>, data <span class='op'>=</span> <span class='va'>airquality</span>, fast <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>

<span class='co'>## ------------------------------------------------------------</span>
<span class='co'>## multivariate missForest imputation</span>
<span class='co'>## ------------------------------------------------------------</span>

<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='va'>pbc</span>, package <span class='op'>=</span> <span class='st'>"randomForestSRC"</span><span class='op'>)</span>

<span class='co'>## missForest algorithm - uses 1 variable at a time for the response</span>
<span class='va'>pbc.d</span> <span class='op'>&lt;-</span> <span class='fu'>impute</span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>pbc</span>, mf.q <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>

<span class='co'>## multivariate missForest - use 10 percent of variables as responses</span>
<span class='co'>## i.e. multivariate missForest</span>
<span class='va'>pbc.d</span> <span class='op'>&lt;-</span> <span class='fu'>impute</span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>pbc</span>, mf.q <span class='op'>=</span> <span class='fl'>.01</span><span class='op'>)</span>

<span class='co'>## missForest but faster by using random splitting</span>
<span class='va'>pbc.d</span> <span class='op'>&lt;-</span> <span class='fu'>impute</span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>pbc</span>, mf.q <span class='op'>=</span> <span class='fl'>1</span>, splitrule <span class='op'>=</span> <span class='st'>"random"</span><span class='op'>)</span>

<span class='co'>## missForest but faster by increasing nodesize</span>
<span class='va'>pbc.d</span> <span class='op'>&lt;-</span> <span class='fu'>impute</span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>pbc</span>, mf.q <span class='op'>=</span> <span class='fl'>1</span>, nodesize <span class='op'>=</span> <span class='fl'>20</span>, splitrule <span class='op'>=</span> <span class='st'>"random"</span><span class='op'>)</span>

<span class='co'>## missForest but faster by using rfsrcFast</span>
<span class='va'>pbc.d</span> <span class='op'>&lt;-</span> <span class='fu'>impute</span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>pbc</span>, mf.q <span class='op'>=</span> <span class='fl'>1</span>, fast <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>

<span class='co'>## ------------------------------------------------------------</span>
<span class='co'>## another example of multivariate missForest imputation</span>
<span class='co'>## (suggested by John Sheffield)</span>
<span class='co'>## ------------------------------------------------------------</span>

<span class='va'>test_rows</span> <span class='op'>&lt;-</span> <span class='fl'>1000</span>

<span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>1234</span><span class='op'>)</span>

<span class='va'>a</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/Poisson.html'>rpois</a></span><span class='op'>(</span><span class='va'>test_rows</span>, <span class='fl'>500</span><span class='op'>)</span>
<span class='va'>b</span> <span class='op'>&lt;-</span> <span class='va'>a</span> <span class='op'>+</span> <span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span><span class='op'>(</span><span class='va'>test_rows</span>, <span class='fl'>50</span>, <span class='fl'>50</span><span class='op'>)</span>
<span class='va'>c</span> <span class='op'>&lt;-</span> <span class='va'>b</span> <span class='op'>+</span> <span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span><span class='op'>(</span><span class='va'>test_rows</span>, <span class='fl'>50</span>, <span class='fl'>50</span><span class='op'>)</span>
<span class='va'>d</span> <span class='op'>&lt;-</span> <span class='va'>c</span> <span class='op'>+</span> <span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span><span class='op'>(</span><span class='va'>test_rows</span>, <span class='fl'>50</span>, <span class='fl'>50</span><span class='op'>)</span>
<span class='va'>e</span> <span class='op'>&lt;-</span> <span class='va'>d</span> <span class='op'>+</span> <span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span><span class='op'>(</span><span class='va'>test_rows</span>, <span class='fl'>50</span>, <span class='fl'>50</span><span class='op'>)</span>
<span class='va'>f</span> <span class='op'>&lt;-</span> <span class='va'>e</span> <span class='op'>+</span> <span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span><span class='op'>(</span><span class='va'>test_rows</span>, <span class='fl'>50</span>, <span class='fl'>50</span><span class='op'>)</span>
<span class='va'>g</span> <span class='op'>&lt;-</span> <span class='va'>f</span> <span class='op'>+</span> <span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span><span class='op'>(</span><span class='va'>test_rows</span>, <span class='fl'>50</span>, <span class='fl'>50</span><span class='op'>)</span>
<span class='va'>h</span> <span class='op'>&lt;-</span> <span class='va'>g</span> <span class='op'>+</span> <span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span><span class='op'>(</span><span class='va'>test_rows</span>, <span class='fl'>50</span>, <span class='fl'>50</span><span class='op'>)</span>
<span class='va'>i</span> <span class='op'>&lt;-</span> <span class='va'>h</span> <span class='op'>+</span> <span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span><span class='op'>(</span><span class='va'>test_rows</span>, <span class='fl'>50</span>, <span class='fl'>50</span><span class='op'>)</span>

<span class='va'>fake_data</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span><span class='va'>a</span>, <span class='va'>b</span>, <span class='va'>c</span>, <span class='va'>d</span>, <span class='va'>e</span>, <span class='va'>f</span>, <span class='va'>g</span>, <span class='va'>h</span>, <span class='va'>i</span><span class='op'>)</span>

<span class='va'>fake_data_missing</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/lapply.html'>lapply</a></span><span class='op'>(</span><span class='va'>fake_data</span>, <span class='kw'>function</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='va'>x</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/stats/Uniform.html'>runif</a></span><span class='op'>(</span><span class='va'>test_rows</span><span class='op'>)</span> <span class='op'>&lt;=</span> <span class='fl'>0.4</span><span class='op'>]</span> <span class='op'>&lt;-</span> <span class='cn'>NA</span>
  <span class='va'>x</span>
<span class='op'>}</span><span class='op'>)</span><span class='op'>)</span>
  
<span class='va'>imputed_data</span> <span class='op'>&lt;-</span> <span class='fu'>impute</span><span class='op'>(</span>
  data <span class='op'>=</span> <span class='va'>fake_data_missing</span>,
  mf.q <span class='op'>=</span> <span class='fl'>0.2</span>,
  ntree <span class='op'>=</span> <span class='fl'>100</span>,
  fast <span class='op'>=</span> <span class='cn'>TRUE</span>,
  verbose <span class='op'>=</span> <span class='cn'>TRUE</span>
<span class='op'>)</span>

<span class='fu'><a href='https://rdrr.io/r/graphics/par.html'>par</a></span><span class='op'>(</span>mfrow<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>3</span>,<span class='fl'>3</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>o</span><span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/lapply.html'>lapply</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>:</span><span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>ncol</a></span><span class='op'>(</span><span class='va'>imputed_data</span><span class='op'>)</span>, <span class='kw'>function</span><span class='op'>(</span><span class='va'>j</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='va'>pt</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span><span class='op'>(</span><span class='va'>fake_data_missing</span><span class='op'>[</span>, <span class='va'>j</span><span class='op'>]</span><span class='op'>)</span>
  <span class='va'>x</span> <span class='op'>&lt;-</span> <span class='va'>fake_data</span><span class='op'>[</span><span class='va'>pt</span>, <span class='va'>j</span><span class='op'>]</span>
  <span class='va'>y</span> <span class='op'>&lt;-</span> <span class='va'>imputed_data</span><span class='op'>[</span><span class='va'>pt</span>, <span class='va'>j</span><span class='op'>]</span>
  <span class='fu'><a href='https://rdrr.io/r/graphics/plot.html'>plot</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>y</span>, pch <span class='op'>=</span> <span class='fl'>16</span>, cex <span class='op'>=</span> <span class='fl'>0.8</span>, xlab <span class='op'>=</span> <span class='st'>"raw data"</span>,
    ylab <span class='op'>=</span> <span class='st'>"imputed data"</span>, col <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>
  <span class='fu'><a href='https://rdrr.io/r/graphics/points.html'>points</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>y</span>, pch <span class='op'>=</span> <span class='fl'>1</span>, cex <span class='op'>=</span> <span class='fl'>0.8</span>, col <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grDevices/gray.html'>gray</a></span><span class='op'>(</span><span class='fl'>.9</span><span class='op'>)</span><span class='op'>)</span>
  <span class='fu'><a href='https://rdrr.io/r/graphics/lines.html'>lines</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/stats/supsmu.html'>supsmu</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>y</span>, span <span class='op'>=</span> <span class='fl'>.25</span><span class='op'>)</span>, lty <span class='op'>=</span> <span class='fl'>1</span>, col <span class='op'>=</span> <span class='fl'>4</span>, lwd <span class='op'>=</span> <span class='fl'>4</span><span class='op'>)</span>
  <span class='fu'><a href='https://rdrr.io/r/graphics/mtext.html'>mtext</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/colnames.html'>colnames</a></span><span class='op'>(</span><span class='va'>imputed_data</span><span class='op'>)</span><span class='op'>[</span><span class='va'>j</span><span class='op'>]</span><span class='op'>)</span>
  <span class='cn'>NULL</span>
<span class='op'>}</span><span class='op'>)</span>

<span class='co'># }</span>
</pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://www.luminwin.net'>Min Lu</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


