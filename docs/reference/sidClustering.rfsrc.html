<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>sidClustering using SID (Staggered Interaction Data) for Unsupervised Clustering — sidClustering.rfsrc • Fast Unified Random Forests with randomForestSRC</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="sidClustering using SID (Staggered Interaction Data) for Unsupervised Clustering — sidClustering.rfsrc" />
<meta property="og:description" content="Clustering of unsupervised data using SID (Mantero and Ishwaran,
  2020).  Also implements the artificial two-class approach of
  Breiman (2003)." />
<meta property="og:image" content="https://www.randomforestsrc.org/logo.svg" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-WZWXVK817Z"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-WZWXVK817Z');
</script>


  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">Fast Unified Random Forests with randomForestSRC</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Development version">3.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../articles/getstarted.html">
    <span class="fas fa-home fa-lg"></span>
     
    Getting Started
  </a>
</li>
<li>
  <a href="../articles/installation.html">Installation</a>
</li>
<li>
  <a href="../cheatsheets.pdf">Cheatsheet</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/parallel.html">Parallel Processing</a>
    </li>
    <li>
      <a href="../articles/hybrid.html">Hybrid Parallel Processing</a>
    </li>
    <li>
      <a href="../articles/algorithm.html">randomForestSRC Algorithm</a>
    </li>
    <li>
      <a href="../articles/speedup.html">Speedup Random Forest Analyses</a>
    </li>
    <li>
      <a href="../articles/forestWgt.html">Forest Weights, In-Bag (IB) and Out-of-Bag (OOB) Ensembles</a>
    </li>
    <li>
      <a href="../articles/survival.html">Random Survival Forests</a>
    </li>
    <li>
      <a href="../articles/competing.html">Competing Risks</a>
    </li>
    <li>
      <a href="../articles/imbalance.html">Random Forests Quantile Classifier (RFQ)</a>
    </li>
    <li>
      <a href="../articles/mvsplit.html">Multivariate Splitting Rule</a>
    </li>
    <li>
      <a href="../articles/sidClustering.html">sidClustering</a>
    </li>
    <li>
      <a href="../articles/rfsrc-subsample.html">Variable Importance (VIMP) with Subsampling Inference</a>
    </li>
    <li>
      <a href="../articles/minidep.html">Minimal Depth</a>
    </li>
    <li>
      <a href="../articles/partial.html">Partial Plots</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Manual</a>
</li>
<li>
  <a href="https://github.com/kogalur/randomForestSRC/issues">Bug Reporting</a>
</li>
<li>
  <a href="https://github.com/kogalur/randomForestSRC/discussions">Discussions</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
<li>
  <a href="https://kogalur.github.io/randomForestSRC/javadoc">Java API</a>
</li>
<li>
  <a href="https://github.com/kogalur/randomForestSRC/">
    <span class="fab fa-github fa-lg"></span>
     
    GitHub
  </a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>sidClustering using SID (Staggered Interaction Data) for Unsupervised Clustering</h1>
    
    <div class="hidden name"><code>sidClustering.rfsrc.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Clustering of unsupervised data using SID (Mantero and Ishwaran,
  2020).  Also implements the artificial two-class approach of
  Breiman (2003).</p>
    </div>

    <pre class="usage"><span class='fu'>sidClustering</span><span class='op'>(</span><span class='va'>data</span>,
  method <span class='op'>=</span> <span class='st'>"sid"</span>,
  k <span class='op'>=</span> <span class='cn'>NULL</span>,
  reduce <span class='op'>=</span> <span class='cn'>TRUE</span>,
  ntree.reduce <span class='op'>=</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>p</span>, <span class='va'>vtry</span><span class='op'>)</span><span class='op'>{</span><span class='fl'>100</span> <span class='op'>*</span> <span class='va'>p</span> <span class='op'>/</span> <span class='va'>vtry</span><span class='op'>}</span>,
  fast <span class='op'>=</span> <span class='cn'>FALSE</span>,
  x.no.sid <span class='op'>=</span> <span class='cn'>NULL</span>,
  use.sid.for.x <span class='op'>=</span> <span class='cn'>TRUE</span>,
  x.only <span class='op'>=</span> <span class='cn'>NULL</span>, y.only <span class='op'>=</span> <span class='cn'>NULL</span>,
  dist.sharpen <span class='op'>=</span> <span class='cn'>TRUE</span>, <span class='va'>...</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>Data frame containing the unsupervised data.</p></td>
    </tr>
    <tr>
      <th>method</th>
      <td><p>The method used for unsupervised clustering.  Default is
    "sid" which implements sidClustering using SID (Staggered
    Interaction Data; see Mantero and Ishwaran, 2020).  A second
    approach transforms the unsupervised learning problem into a
    two-class supervised problem (Breiman, 2003) using artificial data
    created using mode 1 or mode 2 of Shi-Horvath (2006).  This approach
    is specified by any one of the following: "sh", "SH", "sh1", "SH1"
    for mode 1, or "sh2", "SH2" for mode 2.  Finally, a third approach
    is a plain vanilla method where the data are used both as features
    and response with splitting implemented using the multivariate
    splitting rule.  This is faster than sidClustering but potentially
    less accurate.  This method is specified using "unsupv".</p></td>
    </tr>
    <tr>
      <th>k</th>
      <td><p>Requested number of clusters.  Can be a number or a vector.
    If a fixed number, returns a vector recording clustering of data.
    If a vector, returns a matrix of clusters with each column recording
    the clustering of the data for the specified number of clusters.</p></td>
    </tr>
    <tr>
      <th>reduce</th>
      <td><p>Apply dimension reduction? Uses holdout vimp which is
    computationally intensive and conservative but has good false
    discovery properties.  Only applies to <code>method="sid"</code>.</p></td>
    </tr>
    <tr>
      <th>ntree.reduce</th>
      <td><p>Number of trees used by holdout vimp in the
    reduction step.  See <code class='command'>holdout.vimp</code> for details.</p></td>
    </tr>
    <tr>
      <th>fast</th>
      <td><p>Use fast random forests, <code>rfsrcFast</code>, in place of
    <code>rfsrc</code>?  Improves speed but is less accurate.</p></td>
    </tr>
    <tr>
      <th>x.no.sid</th>
      <td><p>Features not to be "sid-ified": meaning that these
      features are to be included in the final design matrix without SID
      processing.  Can be either a data frame (should not overlap with
      <code>data</code>), or a character vector containing the names of
      features from the original data that the user wishes to protect
      from sidification.  Applies only to <code>method="sid"</code>.</p></td>
    </tr>
    <tr>
      <th>use.sid.for.x</th>
      <td><p>If FALSE, reverses features and outcomes in the
    SID analysis.  Thus, staggered interactions are used for the
    outcomes rather than staggered features.  This is much slower and is
    generally much less effective.  This option is only retained for
    legacy reasons. Applies only to <code>method="sid"</code>.</p></td>
    </tr>
    <tr>
      <th>x.only</th>
      <td><p>Use only these variables for the features.  Applies only
    to <code>method="unsupv"</code>.</p></td>
    </tr>
    <tr>
      <th>y.only</th>
      <td><p>Use only these variables for the multivariate outcomes.  Applies only
    to <code>method="unsupv"</code>.</p></td>
    </tr>
    <tr>
      <th>dist.sharpen</th>
      <td><p>By default, distance sharpening is requested,
    which applies Euclidean distance to the random forest distance
    matrix to sharpen it.  Because of this, the returned distance matrix
    will not have values between 0 and 1 (as for random forests distance) when
    this option is in effect.  Distance sharpening is a useful, but slow
    step. Set this option to <code>FALSE</code> to improve computational
    times, however clustering performance will not be as good.  Applies
    only when <code>method="sid"</code> or <code>method="unsupv"</code>.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Further arguments to be passed to the <code class='command'>rfsrc</code>
    function to specify random forest parameters.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    

<p>Given an unsupervised data set, random forests is used to calculate
  the distance between all pairs of data points.  The distance matrix is
  used for clustering the unsupervised data where the default is to use
  hierarchcial clustering.  Users can apply other clustering procedures
  to the distance matrix.  See the examples below.</p>
<p>The default method, <code>method="sid"</code>, implements sidClustering.
  The sidClustering algorithm begins by first creating an enhanced SID
  (Staggered Interaction Data) feature space by sidification of the
  original variables.  Sidification results in: (a) SID main features
  which are the original features that have been shifted in order to
  make them strictly positive and staggered so all of their ranges are
  mutually exclusive; and (b) SID interaction features which are the
  multiplicative interactions formed between every pair of SID main
  features.  Multivariate random forests are then trained to predict the
  main SID features using the interaction SID features as predictors.
  The basic premise is if features are informative for clusters, then
  they will vary over the space in a systematic manner, and because each
  SID interaction feature is uniquely determined by the original feature
  values used to form the interaction, cuts along the SID interaction
  feature will be able to find the regions where the informative
  features vary by cluster, thereby not only reducing impurity, but also
  separating the clusters which are dependent on those features.  See
  Mantero and Ishwaran (2020) for details.</p>
<p>Because SID uses all pairwise interactions, the dimension of the
  feature space is proportional to the square of the number of original
  features (or even larger if factors are present).  Thus it is helpful
  to reduce the feature space. The reduction step (applied by default)
  utilizes holdout VIMP to accomplish this.  It is recommended this step
  be skipped only when the dimension is reasonably small.  For very
  large data sets this step may be slow.</p>  
<p>A second approach (Breiman, 2003; Shi-Horvath, 2006) transforms the
  unsupervised learning problem into a two class supervised problem.
  The first class consists of the original observations, while the
  second class is artificially created.  The idea is that in detecting
  the first class out of the second, the model will generate the random
  forest proximity between observations of which those for the original
  class can be extracted and used for clustering.  Note in this approach
  the distance matrix is defined to equal one minus the proximity.  This
  is unlike the distance matrix from SID which is not proximity based.
  Artificial data is created using "mode 1" or "mode 2" of Shi-Horvath
  (2006).  Mode 1 randomly draws from each set of observed features.
  Mode 2 draws a uniform value from the minimum and maximum values of a
  feature.</p>  
<p>Mantero and Ishwaran (2020) studied both methods and found SID worked
  well in all settings, whereas Breiman/Shi-Horvath was sensitive to
  cluster structure.  Performance was poor when clusters were hidden in
  lower dimensional subspaces; for example when interactions were
  present or in mixed variable settings (factors/continuous variables).
  See the V-shaped cluster example below.  Generally Shi-Horvath mode 1
  outperforms mode 2.</p>
<p>Finally, a third method where the data is used for both the features
  and outcome is implemented using <code>method="unsupv"</code>.  Tree nodes
  are split using the multivariate splitting rule.  This is much faster
  than sidClustering but potentially less accurate.</p>
<p>There is an internal function <code class='command'>sid.perf.metric</code> for evaluating
  performance of the procedures using a normalized measure score.
  Smaller values indicate better performance.  See Mantero and Ishwaran
  (2020) for details.</p>
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A list with the following components:</p>
<dt>clustering</dt><dd><p>Vector or matrix containing indices mapping data
    points to their clusters.</p></dd>
  <dt>rf</dt><dd><p>Random forest object (either a multivariate forest or RF-C object).</p></dd>
  <dt>dist</dt><dd><p>Distance matrix.</p></dd>
  <dt>sid</dt><dd><p>The "sid-ified" data. Conveniently broken up into
    separate values for outcomes and features used by the
    multivariate forest.</p></dd>

    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Hemant Ishwaran and Udaya B. Kogalur</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    

<p>Breiman, L. (2003). <em>Manual on setting up, using and
  understanding random forest, V4.0</em>.  University of California
  Berkeley, Statistics Department, Berkeley.</p>  
<p>Mantero A. and Ishwaran H. (2021).  Unsupervised random forests.
  <em>Statistical Analysis and Data Mining</em>, 14(2):144-167.</p>  
<p>Shi, T. and Horvath, S. (2006). Unsupervised learning with random forest
  predictors. <em>Journal of Computational and Graphical Statistics</em>,
  15(1):118-138.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code class='command'><a href='rfsrc.html'>rfsrc</a></code>,
  <code class='command'><a href='rfsrc.fast.html'>rfsrc.fast</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='co'># \donttest{</span>
<span class='co'>## ------------------------------------------------------------</span>
<span class='co'>## mtcars example</span>
<span class='co'>## ------------------------------------------------------------</span>

<span class='co'>## default SID method </span>
<span class='va'>o1</span> <span class='op'>&lt;-</span> <span class='fu'>sidClustering</span><span class='op'>(</span><span class='va'>mtcars</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/split.html'>split</a></span><span class='op'>(</span><span class='va'>mtcars</span>, <span class='va'>o1</span><span class='op'>$</span><span class='va'>cl</span><span class='op'>[</span>, <span class='fl'>10</span><span class='op'>]</span><span class='op'>)</span><span class='op'>)</span>

<span class='co'>## using artifical class approach</span>
<span class='va'>o1.sh</span> <span class='op'>&lt;-</span> <span class='fu'>sidClustering</span><span class='op'>(</span><span class='va'>mtcars</span>, method <span class='op'>=</span> <span class='st'>"sh"</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/split.html'>split</a></span><span class='op'>(</span><span class='va'>mtcars</span>, <span class='va'>o1.sh</span><span class='op'>$</span><span class='va'>cl</span><span class='op'>[</span>, <span class='fl'>10</span><span class='op'>]</span><span class='op'>)</span><span class='op'>)</span>


<span class='co'>## ------------------------------------------------------------</span>
<span class='co'>## glass data set</span>
<span class='co'>## ------------------------------------------------------------</span>

<span class='kw'>if</span> <span class='op'>(</span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='st'>"mlbench"</span>, logical.return <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>{</span>

  <span class='co'>## this is a supervised problem, so we first strip the class label</span>
  <span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='va'>Glass</span><span class='op'>)</span>
  <span class='va'>glass</span> <span class='op'>&lt;-</span> <span class='va'>Glass</span>
  <span class='va'>y</span> <span class='op'>&lt;-</span> <span class='va'>Glass</span><span class='op'>$</span><span class='va'>Type</span>
  <span class='va'>glass</span><span class='op'>$</span><span class='va'>Type</span> <span class='op'>&lt;-</span> <span class='cn'>NULL</span>

  <span class='co'>## default SID call </span>
  <span class='va'>o2</span> <span class='op'>&lt;-</span> <span class='fu'>sidClustering</span><span class='op'>(</span><span class='va'>glass</span>, k <span class='op'>=</span> <span class='fl'>6</span><span class='op'>)</span>
  <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/table.html'>table</a></span><span class='op'>(</span><span class='va'>y</span>, <span class='va'>o2</span><span class='op'>$</span><span class='va'>cl</span><span class='op'>)</span><span class='op'>)</span>
  <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='fu'>sid.perf.metric</span><span class='op'>(</span><span class='va'>y</span>, <span class='va'>o2</span><span class='op'>$</span><span class='va'>cl</span><span class='op'>)</span><span class='op'>)</span>

  <span class='co'>## compare with Shi-Horvath mode 1 </span>
  <span class='va'>o2.sh</span> <span class='op'>&lt;-</span> <span class='fu'>sidClustering</span><span class='op'>(</span><span class='va'>glass</span>, method <span class='op'>=</span> <span class='st'>"sh1"</span>, k <span class='op'>=</span> <span class='fl'>6</span><span class='op'>)</span>
  <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/table.html'>table</a></span><span class='op'>(</span><span class='va'>y</span>, <span class='va'>o2.sh</span><span class='op'>$</span><span class='va'>cl</span><span class='op'>)</span><span class='op'>)</span>
  <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='fu'>sid.perf.metric</span><span class='op'>(</span><span class='va'>y</span>, <span class='va'>o2.sh</span><span class='op'>$</span><span class='va'>cl</span><span class='op'>)</span><span class='op'>)</span>

  <span class='co'>## plain-vanilla unsupervised analysis</span>
  <span class='va'>o2.un</span> <span class='op'>&lt;-</span> <span class='fu'>sidClustering</span><span class='op'>(</span><span class='va'>glass</span>, method <span class='op'>=</span> <span class='st'>"unsupv"</span>, k <span class='op'>=</span> <span class='fl'>6</span><span class='op'>)</span>
  <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/table.html'>table</a></span><span class='op'>(</span><span class='va'>y</span>, <span class='va'>o2.un</span><span class='op'>$</span><span class='va'>cl</span><span class='op'>)</span><span class='op'>)</span>
  <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='fu'>sid.perf.metric</span><span class='op'>(</span><span class='va'>y</span>, <span class='va'>o2.un</span><span class='op'>$</span><span class='va'>cl</span><span class='op'>)</span><span class='op'>)</span>

<span class='op'>}</span>

<span class='co'>## ------------------------------------------------------------</span>
<span class='co'>## vowel data set</span>
<span class='co'>## ------------------------------------------------------------</span>

<span class='kw'>if</span> <span class='op'>(</span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='st'>"mlbench"</span>, logical.return <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span> <span class='op'>&amp;&amp;</span>
    <span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='st'><a href='https://svn.r-project.org/R-packages/trunk/cluster'>"cluster"</a></span>, logical.return <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>{</span>

  <span class='co'>## strip the class label</span>
  <span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='va'>Vowel</span><span class='op'>)</span>
  <span class='va'>vowel</span> <span class='op'>&lt;-</span> <span class='va'>Vowel</span>
  <span class='va'>y</span> <span class='op'>&lt;-</span> <span class='va'>Vowel</span><span class='op'>$</span><span class='va'>Class</span>
  <span class='va'>vowel</span><span class='op'>$</span><span class='va'>Class</span> <span class='op'>&lt;-</span> <span class='cn'>NULL</span>

  <span class='co'>## SID </span>
  <span class='va'>o3</span> <span class='op'>&lt;-</span> <span class='fu'>sidClustering</span><span class='op'>(</span><span class='va'>vowel</span>, k <span class='op'>=</span> <span class='fl'>11</span><span class='op'>)</span>
  <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/table.html'>table</a></span><span class='op'>(</span><span class='va'>y</span>, <span class='va'>o3</span><span class='op'>$</span><span class='va'>cl</span><span class='op'>)</span><span class='op'>)</span>
  <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='fu'>sid.perf.metric</span><span class='op'>(</span><span class='va'>y</span>, <span class='va'>o3</span><span class='op'>$</span><span class='va'>cl</span><span class='op'>)</span><span class='op'>)</span>

  <span class='co'>## compare to Shi-Horvath which performs poorly in</span>
  <span class='co'>## mixed variable settings</span>
  <span class='va'>o3.sh</span> <span class='op'>&lt;-</span> <span class='fu'>sidClustering</span><span class='op'>(</span><span class='va'>vowel</span>, method <span class='op'>=</span> <span class='st'>"sh1"</span>, k <span class='op'>=</span> <span class='fl'>11</span><span class='op'>)</span>
  <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/table.html'>table</a></span><span class='op'>(</span><span class='va'>y</span>, <span class='va'>o3.sh</span><span class='op'>$</span><span class='va'>cl</span><span class='op'>)</span><span class='op'>)</span>
  <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='fu'>sid.perf.metric</span><span class='op'>(</span><span class='va'>y</span>, <span class='va'>o3.sh</span><span class='op'>$</span><span class='va'>cl</span><span class='op'>)</span><span class='op'>)</span>

  <span class='co'>## Shi-Horvath improves with PAM clustering</span>
  <span class='co'>## but still not as good as SID</span>
  <span class='va'>o3.sh.pam</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/cluster/man/pam.html'>pam</a></span><span class='op'>(</span><span class='va'>o3.sh</span><span class='op'>$</span><span class='va'>dist</span>, k <span class='op'>=</span> <span class='fl'>11</span><span class='op'>)</span><span class='op'>$</span><span class='va'>clustering</span>
  <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/table.html'>table</a></span><span class='op'>(</span><span class='va'>y</span>, <span class='va'>o3.sh.pam</span><span class='op'>)</span><span class='op'>)</span>
  <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='fu'>sid.perf.metric</span><span class='op'>(</span><span class='va'>y</span>, <span class='va'>o3.sh.pam</span><span class='op'>)</span><span class='op'>)</span>

  <span class='co'>## plain-vanilla unsupervised analysis</span>
  <span class='va'>o3.un</span> <span class='op'>&lt;-</span> <span class='fu'>sidClustering</span><span class='op'>(</span><span class='va'>vowel</span>, method <span class='op'>=</span> <span class='st'>"unsupv"</span>, k <span class='op'>=</span> <span class='fl'>11</span><span class='op'>)</span>
  <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/table.html'>table</a></span><span class='op'>(</span><span class='va'>y</span>, <span class='va'>o3.un</span><span class='op'>$</span><span class='va'>cl</span><span class='op'>)</span><span class='op'>)</span>
  <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='fu'>sid.perf.metric</span><span class='op'>(</span><span class='va'>y</span>, <span class='va'>o3.un</span><span class='op'>$</span><span class='va'>cl</span><span class='op'>)</span><span class='op'>)</span>

<span class='op'>}</span>

<span class='co'>## ------------------------------------------------------------</span>
<span class='co'>##  two-d V-shaped cluster (y=x, y=-x) sitting in 12-dimensions </span>
<span class='co'>##  illustrates superiority of SID to Breiman/Shi-Horvath</span>
<span class='co'>## ------------------------------------------------------------</span>

<span class='va'>p</span> <span class='op'>&lt;-</span> <span class='fl'>10</span>
<span class='va'>m</span> <span class='op'>&lt;-</span> <span class='fl'>250</span>
<span class='va'>n</span> <span class='op'>&lt;-</span> <span class='fl'>2</span> <span class='op'>*</span> <span class='va'>m</span>
<span class='va'>std</span> <span class='op'>&lt;-</span> <span class='fl'>.2</span>

<span class='va'>x</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/Uniform.html'>runif</a></span><span class='op'>(</span><span class='va'>n</span>, <span class='fl'>0</span>, <span class='fl'>1</span><span class='op'>)</span>
<span class='va'>noise</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/stats/Uniform.html'>runif</a></span><span class='op'>(</span><span class='va'>n</span> <span class='op'>*</span> <span class='va'>p</span>, <span class='fl'>0</span>, <span class='fl'>1</span><span class='op'>)</span>, <span class='va'>n</span><span class='op'>)</span>
<span class='va'>y</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='cn'>NA</span>, <span class='va'>n</span><span class='op'>)</span>
<span class='va'>y</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='va'>m</span><span class='op'>]</span> <span class='op'>&lt;-</span> <span class='va'>x</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='va'>m</span><span class='op'>]</span> <span class='op'>+</span> <span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span><span class='op'>(</span><span class='va'>m</span>, sd <span class='op'>=</span> <span class='va'>std</span><span class='op'>)</span>
<span class='va'>y</span><span class='op'>[</span><span class='op'>(</span><span class='va'>m</span><span class='op'>+</span><span class='fl'>1</span><span class='op'>)</span><span class='op'>:</span><span class='va'>n</span><span class='op'>]</span> <span class='op'>&lt;-</span> <span class='op'>-</span><span class='va'>x</span><span class='op'>[</span><span class='op'>(</span><span class='va'>m</span><span class='op'>+</span><span class='fl'>1</span><span class='op'>)</span><span class='op'>:</span><span class='va'>n</span><span class='op'>]</span> <span class='op'>+</span> <span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span><span class='op'>(</span><span class='va'>m</span>, sd <span class='op'>=</span> <span class='va'>std</span><span class='op'>)</span>
<span class='va'>vclus</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>clus <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='va'>m</span><span class='op'>)</span>, <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='fl'>2</span>,<span class='va'>m</span><span class='op'>)</span><span class='op'>)</span>, x <span class='op'>=</span> <span class='va'>x</span>, y <span class='op'>=</span> <span class='va'>y</span>, <span class='va'>noise</span><span class='op'>)</span>

<span class='co'>## SID</span>
<span class='va'>o4</span> <span class='op'>&lt;-</span> <span class='fu'>sidClustering</span><span class='op'>(</span><span class='va'>vclus</span><span class='op'>[</span>, <span class='op'>-</span><span class='fl'>1</span><span class='op'>]</span>, k <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/table.html'>table</a></span><span class='op'>(</span><span class='va'>vclus</span><span class='op'>[</span>, <span class='fl'>1</span><span class='op'>]</span>, <span class='va'>o4</span><span class='op'>$</span><span class='va'>cl</span><span class='op'>)</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='fu'>sid.perf.metric</span><span class='op'>(</span><span class='va'>vclus</span><span class='op'>[</span>, <span class='fl'>1</span><span class='op'>]</span>, <span class='va'>o4</span><span class='op'>$</span><span class='va'>cl</span><span class='op'>)</span><span class='op'>)</span>

<span class='co'>## Shi-Horvath</span>
<span class='va'>o4.sh</span> <span class='op'>&lt;-</span> <span class='fu'>sidClustering</span><span class='op'>(</span><span class='va'>vclus</span><span class='op'>[</span>, <span class='op'>-</span><span class='fl'>1</span><span class='op'>]</span>, method <span class='op'>=</span> <span class='st'>"sh1"</span>, k <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/table.html'>table</a></span><span class='op'>(</span><span class='va'>vclus</span><span class='op'>[</span>, <span class='fl'>1</span><span class='op'>]</span>, <span class='va'>o4.sh</span><span class='op'>$</span><span class='va'>cl</span><span class='op'>)</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='fu'>sid.perf.metric</span><span class='op'>(</span><span class='va'>vclus</span><span class='op'>[</span>, <span class='fl'>1</span><span class='op'>]</span>, <span class='va'>o4.sh</span><span class='op'>$</span><span class='va'>cl</span><span class='op'>)</span><span class='op'>)</span>

<span class='co'>## plain-vanilla unsupervised analysis</span>
<span class='va'>o4.un</span> <span class='op'>&lt;-</span> <span class='fu'>sidClustering</span><span class='op'>(</span><span class='va'>vclus</span><span class='op'>[</span>, <span class='op'>-</span><span class='fl'>1</span><span class='op'>]</span>, method <span class='op'>=</span> <span class='st'>"unsupv"</span>, k <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/table.html'>table</a></span><span class='op'>(</span><span class='va'>vclus</span><span class='op'>[</span>, <span class='fl'>1</span><span class='op'>]</span>, <span class='va'>o4.un</span><span class='op'>$</span><span class='va'>cl</span><span class='op'>)</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='fu'>sid.perf.metric</span><span class='op'>(</span><span class='va'>vclus</span><span class='op'>[</span>, <span class='fl'>1</span><span class='op'>]</span>, <span class='va'>o4.un</span><span class='op'>$</span><span class='va'>cl</span><span class='op'>)</span><span class='op'>)</span>


<span class='co'>## ------------------------------------------------------------</span>
<span class='co'>##  two-d V-shaped cluster using fast random forests</span>
<span class='co'>## ------------------------------------------------------------</span>

<span class='va'>o5</span> <span class='op'>&lt;-</span> <span class='fu'>sidClustering</span><span class='op'>(</span><span class='va'>vclus</span><span class='op'>[</span>, <span class='op'>-</span><span class='fl'>1</span><span class='op'>]</span>, k <span class='op'>=</span> <span class='fl'>2</span>, fast <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/table.html'>table</a></span><span class='op'>(</span><span class='va'>vclus</span><span class='op'>[</span>, <span class='fl'>1</span><span class='op'>]</span>, <span class='va'>o5</span><span class='op'>$</span><span class='va'>cl</span><span class='op'>)</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='fu'>sid.perf.metric</span><span class='op'>(</span><span class='va'>vclus</span><span class='op'>[</span>, <span class='fl'>1</span><span class='op'>]</span>, <span class='va'>o5</span><span class='op'>$</span><span class='va'>cl</span><span class='op'>)</span><span class='op'>)</span>


<span class='co'># }</span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://www.luminwin.net'>Min Lu</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


