<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Plot Marginal Effect of Variables — plot.variable.rfsrc • Fast Unified Random Forests with randomForestSRC</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Plot Marginal Effect of Variables — plot.variable.rfsrc" />
<meta property="og:description" content="Plot the marginal effect of an x-variable on the class probability
  (classification), response (regression), mortality (survival), or the
  expected years lost (competing risk).  Users can select between
  marginal (unadjusted, but fast) and partial plots (adjusted, but
  slower)." />
<meta property="og:image" content="https://luminwin.github.io/randomForestSRC/logo.svg" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-WZWXVK817Z"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-WZWXVK817Z');
</script>


  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">Fast Unified Random Forests with randomForestSRC</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Development version">3.0.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../articles/getstarted.html">
    <span class="fas fa-home fa-lg"></span>
     
    Getting Started
  </a>
</li>
<li>
  <a href="../articles/installation.html">Installation</a>
</li>
<li>
  <a href="../cheatsheets.pdf">Cheatsheet</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/parallel.html">Parallel Processing</a>
    </li>
    <li>
      <a href="../articles/hybrid.html">Hybrid Parallel Processing</a>
    </li>
    <li>
      <a href="../articles/algorithm.html">randomForestSRC Algorithm</a>
    </li>
    <li>
      <a href="../articles/speedup.html">Speedup Random Forest Analyses</a>
    </li>
    <li>
      <a href="../articles/forestWgt.html">Forest Weights, In-Bag (IB) and Out-of-Bag (OOB) Ensembles</a>
    </li>
    <li>
      <a href="../articles/survival.html">Random Survival Forests</a>
    </li>
    <li>
      <a href="../articles/competing.html">Competing Risks</a>
    </li>
    <li>
      <a href="../articles/imbalance.html">Random Forests Quantile Classifier (RFQ)</a>
    </li>
    <li>
      <a href="../articles/mvsplit.html">Multivariate Splitting Rule</a>
    </li>
    <li>
      <a href="../articles/sidClustering.html">sidClustering</a>
    </li>
    <li>
      <a href="../articles/rfsrc-subsample.html">Variable Importance (VIMP) with Subsampling Inference</a>
    </li>
    <li>
      <a href="../articles/minidep.html">Minimal Depth</a>
    </li>
    <li>
      <a href="../articles/partial.html">Partial Plots</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Manual</a>
</li>
<li>
  <a href="https://github.com/kogalur/randomForestSRC/issues">Bug Reporting</a>
</li>
<li>
  <a href="https://github.com/kogalur/randomForestSRC/discussions">Discussions</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
<li>
  <a href="https://kogalur.github.io/randomForestSRC/javadoc">Java API</a>
</li>
<li>
  <a href="https://github.com/kogalur/randomForestSRC/">
    <span class="fab fa-github fa-lg"></span>
     
    GitHub
  </a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Plot Marginal Effect of Variables</h1>
    
    <div class="hidden name"><code>plot.variable.rfsrc.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Plot the marginal effect of an x-variable on the class probability
  (classification), response (regression), mortality (survival), or the
  expected years lost (competing risk).  Users can select between
  marginal (unadjusted, but fast) and partial plots (adjusted, but
  slower).</p>
    </div>

    <pre class="usage"><span class='fu'>plot.variable</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>xvar.names</span>, <span class='va'>target</span>,
  m.target <span class='op'>=</span> <span class='cn'>NULL</span>, <span class='va'>time</span>, surv.type <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"mort"</span>, <span class='st'>"rel.freq"</span>,
  <span class='st'>"surv"</span>, <span class='st'>"years.lost"</span>, <span class='st'>"cif"</span>, <span class='st'>"chf"</span><span class='op'>)</span>, class.type <span class='op'>=</span>
  <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"prob"</span>, <span class='st'>"bayes"</span><span class='op'>)</span>, partial <span class='op'>=</span> <span class='cn'>FALSE</span>, oob <span class='op'>=</span> <span class='cn'>TRUE</span>,
  show.plots <span class='op'>=</span> <span class='cn'>TRUE</span>, plots.per.page <span class='op'>=</span> <span class='fl'>4</span>, granule <span class='op'>=</span> <span class='fl'>5</span>, sorted <span class='op'>=</span> <span class='cn'>TRUE</span>,
  <span class='va'>nvar</span>, npts <span class='op'>=</span> <span class='fl'>25</span>, smooth.lines <span class='op'>=</span> <span class='cn'>FALSE</span>, <span class='va'>subset</span>, <span class='va'>...</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>An object of class <code>(rfsrc, grow)</code>, <code>(rfsrc,
    synthetic)</code>, or <code>(rfsrc, plot.variable)</code>.</p></td>
    </tr>
    <tr>
      <th>xvar.names</th>
      <td><p>Names of the x-variables to be used.</p></td>
    </tr>
    <tr>
      <th>target</th>
      <td><p>For classification, an integer or
    character value specifying the class to focus on (defaults to the
    first class).  For competing risks, an integer value between
    1 and <code>J</code> indicating the event of interest, where <code>J</code> is
    the number of event types.  The default is to use the first event
    type.</p></td>
    </tr>
    <tr>
      <th>m.target</th>
      <td><p>Character value for multivariate families
    specifying the target outcome to be used.  If left unspecified, the
    algorithm will choose a default target.</p></td>
    </tr>
    <tr>
      <th>time</th>
      <td><p>For survival, the time at which the predicted
    survival value is evaluated at (depends on <code>surv.type</code>).</p></td>
    </tr>
    <tr>
      <th>surv.type</th>
      <td><p>For survival, specifies the predicted value.
    See details below.</p></td>
    </tr>
    <tr>
      <th>class.type</th>
      <td><p>For classification, specifies the predicted value.
    See details below.</p></td>
    </tr>
    <tr>
      <th>partial</th>
      <td><p>Should partial plots be used?</p></td>
    </tr>
    <tr>
      <th>oob</th>
      <td><p>OOB (TRUE)  or in-bag (FALSE) predicted values.</p></td>
    </tr>
    <tr>
      <th>show.plots</th>
      <td><p>Should plots be displayed?</p></td>
    </tr>
    <tr>
      <th>plots.per.page</th>
      <td><p>Integer value controlling page layout.</p></td>
    </tr>
    <tr>
      <th>granule</th>
      <td><p>Integer value controlling whether a plot for a
    specific variable should be treated as a factor and therefore given
    as a boxplot. Larger values coerce boxplots.</p></td>
    </tr>
    <tr>
      <th>sorted</th>
      <td><p>Should variables be sorted by importance values.</p></td>
    </tr>
    <tr>
      <th>nvar</th>
      <td><p>Number of variables to be plotted. Default is all.</p></td>
    </tr>
    <tr>
      <th>npts</th>
      <td><p>Maximum number of points used when generating partial
    plots for continuous variables.</p></td>
    </tr>
    <tr>
      <th>smooth.lines</th>
      <td><p>Use lowess to smooth partial plots.</p></td>
    </tr>
    <tr>
      <th>subset</th>
      <td><p>Vector indicating which rows of the x-variable matrix
    <code>x$xvar</code> to use. All rows are used if not specified.  Do not
    define subset based on the original data (which could have been processed
    due to missing values or for other reasons in the previous forest call) but
    define subset based on the rows of <code>x$xvar</code>.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Further arguments passed to or from other methods.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The vertical axis displays the ensemble predicted value, while
  x-variables are plotted on the horizontal axis.</p>  
<p></p><ol>
<li><p>For regression, the predicted response is used.</p></li>
<li><p>For classification, it is the predicted class probability
    specified by <span class="option">target</span>, or the class of maximum
    probability depending on <span class="option">class.type</span> is set to "prob" or
    "bayes".</p></li>
<li><p>For multivariate families, it is the predicted value of the
    outcome specified by <span class="option">m.target</span> and if that is a
    classification outcome, by <span class="option">target</span>.</p></li>
<li><p>For survival, the choices are:</p><ul>
<li><p>Mortality (<code>mort</code>).  Mortality (Ishwaran et al.,
                  2008) represents estimated risk for an individual
                  calibrated to the scale of number of events (as a
                  specific example, if <em>i</em> has a mortality value of
                  100, then if all individuals had the same x-values as
                  <em>i</em>, we would expect an average of 100 events).</p></li>
<li><p>Relative frequency of mortality (<code>rel.freq</code>).</p></li>
<li><p>Predicted survival (<code>surv</code>), where the predicted
                  survival is for the time point specified using
                  <code>time</code> (the default is the median follow up
                  time).</p></li>
</ul></li>
<li><p>For competing risks, the choices are:</p><ul>
<li><p>The expected number of life years lost (<code>years.lost</code>).</p></li>
<li><p>The cumulative incidence function (<code>cif</code>).</p></li>
<li><p>The cumulative hazard function (<code>chf</code>).</p></li>
</ul><p>In all three cases, the predicted value is for the event type
    specified by <span class="option">target</span>.  For <code>cif</code> and
    <code>chf</code> the quantity is evaluated at the time point specified
    by <code>time</code>.</p></li>
</ol>
  
<p>For partial plots use <span class="option">partial=TRUE</span>.  Their interpretation are
  different than marginal plots.  The y-value for a variable \(X\),
  evaluated at \(X=x\), is
  $$
    \tilde{f}(x) = \frac{1}{n} \sum_{i=1}^n \hat{f}(x, x_{i,o}),
  $$
  where \(x_{i,o}\) represents the value for all other variables
  other than \(X\) for individual \(i\) and \(\hat{f}\) is the
  predicted value. Generating partial plots can be very slow.
  Choosing a small value for <code>npts</code> can speed up computational
  times as this restricts the number of distinct \(x\) values used
  in computing \(\tilde{f}\).</p>  
<p>For continuous variables, red points are used to indicate partial
  values and dashed red lines indicate a smoothed error bar of +/- two
  standard errors.  Black dashed line are the partial values.  Set
  <span class="option">smooth.lines=TRUE</span> for lowess smoothed lines.  For discrete
  variables, partial values are indicated using boxplots with whiskers
  extending out approximately two standard errors from the mean.
  Standard errors are meant only to be a guide and should be
  interpreted with caution.</p>  
<p>Partial plots can be slow.  Setting <span class="option">npts</span> to a smaller number
  can help.</p>
<p>For greater customization and computational speed for partial plot calls,
  consider using the function <code>partial.rfsrc</code> which provides a
  direct interface for calculating partial plot data.</p>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Hemant Ishwaran and Udaya B. Kogalur</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Friedman J.H. (2001). Greedy function approximation: a gradient
  boosting machine, <em>Ann. of Statist.</em>, 5:1189-1232.</p>  
<p>Ishwaran H., Kogalur U.B. (2007).  Random survival forests for R,
  <em>Rnews</em>, 7(2):25-31.</p>  
<p>Ishwaran H., Kogalur U.B., Blackstone E.H. and Lauer M.S.
  (2008).  Random survival forests, <em>Ann. App.
    Statist.</em>, 2:841-860.</p>  
<p>Ishwaran H., Gerds T.A., Kogalur U.B., Moore R.D., Gange S.J. and Lau
  B.M. (2014). Random survival forests for competing risks.
  <em>Biostatistics</em>, 15(4):757-773.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code class='command'><a href='rfsrc.html'>rfsrc</a></code>,
  <code class='command'><a href='synthetic.html'>synthetic.rfsrc</a></code>,
  <code class='command'><a href='partial.rfsrc.html'>partial.rfsrc</a></code>,
  <code class='command'><a href='predict.rfsrc.html'>predict.rfsrc</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='co'># \donttest{</span>
<span class='co'>## ------------------------------------------------------------</span>
<span class='co'>## survival/competing risk</span>
<span class='co'>## ------------------------------------------------------------</span>

<span class='co'>## survival</span>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='va'>veteran</span>, package <span class='op'>=</span> <span class='st'>"randomForestSRC"</span><span class='op'>)</span>
<span class='va'>v.obj</span> <span class='op'>&lt;-</span> <span class='fu'><a href='rfsrc.html'>rfsrc</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/pkg/survival/man/Surv.html'>Surv</a></span><span class='op'>(</span><span class='va'>time</span>,<span class='va'>status</span><span class='op'>)</span><span class='op'>~</span><span class='va'>.</span>, <span class='va'>veteran</span>, ntree <span class='op'>=</span> <span class='fl'>100</span><span class='op'>)</span>
<span class='fu'>plot.variable</span><span class='op'>(</span><span class='va'>v.obj</span>, plots.per.page <span class='op'>=</span> <span class='fl'>3</span><span class='op'>)</span>
<span class='fu'>plot.variable</span><span class='op'>(</span><span class='va'>v.obj</span>, plots.per.page <span class='op'>=</span> <span class='fl'>2</span>, xvar.names <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"trt"</span>, <span class='st'>"karno"</span>, <span class='st'>"age"</span><span class='op'>)</span><span class='op'>)</span>
<span class='fu'>plot.variable</span><span class='op'>(</span><span class='va'>v.obj</span>, surv.type <span class='op'>=</span> <span class='st'>"surv"</span>, nvar <span class='op'>=</span> <span class='fl'>1</span>, time <span class='op'>=</span> <span class='fl'>200</span><span class='op'>)</span>
<span class='fu'>plot.variable</span><span class='op'>(</span><span class='va'>v.obj</span>, surv.type <span class='op'>=</span> <span class='st'>"surv"</span>, partial <span class='op'>=</span> <span class='cn'>TRUE</span>, smooth.lines <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
<span class='fu'>plot.variable</span><span class='op'>(</span><span class='va'>v.obj</span>, surv.type <span class='op'>=</span> <span class='st'>"rel.freq"</span>, partial <span class='op'>=</span> <span class='cn'>TRUE</span>, nvar <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>

<span class='co'>## example of plot.variable calling a pre-processed plot.variable object</span>
<span class='va'>p.v</span> <span class='op'>&lt;-</span> <span class='fu'>plot.variable</span><span class='op'>(</span><span class='va'>v.obj</span>, surv.type <span class='op'>=</span> <span class='st'>"surv"</span>, partial <span class='op'>=</span> <span class='cn'>TRUE</span>, smooth.lines <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
<span class='fu'>plot.variable</span><span class='op'>(</span><span class='va'>p.v</span><span class='op'>)</span>
<span class='va'>p.v</span><span class='op'>$</span><span class='va'>plots.per.page</span> <span class='op'>&lt;-</span> <span class='fl'>1</span>
<span class='va'>p.v</span><span class='op'>$</span><span class='va'>smooth.lines</span> <span class='op'>&lt;-</span> <span class='cn'>FALSE</span>
<span class='fu'>plot.variable</span><span class='op'>(</span><span class='va'>p.v</span><span class='op'>)</span>

<span class='co'>## competing risks</span>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='va'>follic</span>, package <span class='op'>=</span> <span class='st'>"randomForestSRC"</span><span class='op'>)</span>
<span class='va'>follic.obj</span> <span class='op'>&lt;-</span> <span class='fu'><a href='rfsrc.html'>rfsrc</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/pkg/survival/man/Surv.html'>Surv</a></span><span class='op'>(</span><span class='va'>time</span>, <span class='va'>status</span><span class='op'>)</span> <span class='op'>~</span> <span class='va'>.</span>, <span class='va'>follic</span>, nsplit <span class='op'>=</span> <span class='fl'>3</span>, ntree <span class='op'>=</span> <span class='fl'>100</span><span class='op'>)</span>
<span class='fu'>plot.variable</span><span class='op'>(</span><span class='va'>follic.obj</span>, target <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>

<span class='co'>## ------------------------------------------------------------</span>
<span class='co'>## regression</span>
<span class='co'>## ------------------------------------------------------------</span>

<span class='co'>## airquality </span>
<span class='va'>airq.obj</span> <span class='op'>&lt;-</span> <span class='fu'><a href='rfsrc.html'>rfsrc</a></span><span class='op'>(</span><span class='va'>Ozone</span> <span class='op'>~</span> <span class='va'>.</span>, data <span class='op'>=</span> <span class='va'>airquality</span><span class='op'>)</span>
<span class='fu'>plot.variable</span><span class='op'>(</span><span class='va'>airq.obj</span>, partial <span class='op'>=</span> <span class='cn'>TRUE</span>, smooth.lines <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
<span class='fu'>plot.variable</span><span class='op'>(</span><span class='va'>airq.obj</span>, partial <span class='op'>=</span> <span class='cn'>TRUE</span>, subset <span class='op'>=</span> <span class='va'>airq.obj</span><span class='op'>$</span><span class='va'>xvar</span><span class='op'>$</span><span class='va'>Solar.R</span> <span class='op'>&lt;</span> <span class='fl'>200</span><span class='op'>)</span>

<span class='co'>## motor trend cars</span>
<span class='va'>mtcars.obj</span> <span class='op'>&lt;-</span> <span class='fu'><a href='rfsrc.html'>rfsrc</a></span><span class='op'>(</span><span class='va'>mpg</span> <span class='op'>~</span> <span class='va'>.</span>, data <span class='op'>=</span> <span class='va'>mtcars</span><span class='op'>)</span>
<span class='fu'>plot.variable</span><span class='op'>(</span><span class='va'>mtcars.obj</span>, partial <span class='op'>=</span> <span class='cn'>TRUE</span>, smooth.lines <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>

<span class='co'>## ------------------------------------------------------------</span>
<span class='co'>## classification</span>
<span class='co'>## ------------------------------------------------------------</span>

<span class='co'>## iris</span>
<span class='va'>iris.obj</span> <span class='op'>&lt;-</span> <span class='fu'><a href='rfsrc.html'>rfsrc</a></span><span class='op'>(</span><span class='va'>Species</span> <span class='op'>~</span><span class='va'>.</span>, data <span class='op'>=</span> <span class='va'>iris</span><span class='op'>)</span>
<span class='fu'>plot.variable</span><span class='op'>(</span><span class='va'>iris.obj</span>, partial <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>

<span class='co'>## motor trend cars: predict number of carburetors</span>
<span class='va'>mtcars2</span> <span class='op'>&lt;-</span> <span class='va'>mtcars</span>
<span class='va'>mtcars2</span><span class='op'>$</span><span class='va'>carb</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='va'>mtcars2</span><span class='op'>$</span><span class='va'>carb</span>,
   labels <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste</a></span><span class='op'>(</span><span class='st'>"carb"</span>, <span class='fu'><a href='https://rdrr.io/r/base/sort.html'>sort</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/unique.html'>unique</a></span><span class='op'>(</span><span class='va'>mtcars</span><span class='op'>$</span><span class='va'>carb</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>mtcars2.obj</span> <span class='op'>&lt;-</span> <span class='fu'><a href='rfsrc.html'>rfsrc</a></span><span class='op'>(</span><span class='va'>carb</span> <span class='op'>~</span> <span class='va'>.</span>, data <span class='op'>=</span> <span class='va'>mtcars2</span><span class='op'>)</span>
<span class='fu'>plot.variable</span><span class='op'>(</span><span class='va'>mtcars2.obj</span>, partial <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>

<span class='co'>## ------------------------------------------------------------</span>
<span class='co'>## multivariate regression</span>
<span class='co'>## ------------------------------------------------------------</span>
<span class='va'>mtcars.mreg</span> <span class='op'>&lt;-</span> <span class='fu'><a href='rfsrc.html'>rfsrc</a></span><span class='op'>(</span><span class='fu'>Multivar</span><span class='op'>(</span><span class='va'>mpg</span>, <span class='va'>cyl</span><span class='op'>)</span> <span class='op'>~</span><span class='va'>.</span>, data <span class='op'>=</span> <span class='va'>mtcars</span><span class='op'>)</span>
<span class='fu'>plot.variable</span><span class='op'>(</span><span class='va'>mtcars.mreg</span>, m.target <span class='op'>=</span> <span class='st'>"mpg"</span>, partial <span class='op'>=</span> <span class='cn'>TRUE</span>, nvar <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>
<span class='fu'>plot.variable</span><span class='op'>(</span><span class='va'>mtcars.mreg</span>, m.target <span class='op'>=</span> <span class='st'>"cyl"</span>, partial <span class='op'>=</span> <span class='cn'>TRUE</span>, nvar <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>


<span class='co'>## ------------------------------------------------------------</span>
<span class='co'>## multivariate mixed outcomes</span>
<span class='co'>## ------------------------------------------------------------</span>
<span class='va'>mtcars2</span> <span class='op'>&lt;-</span> <span class='va'>mtcars</span>
<span class='va'>mtcars2</span><span class='op'>$</span><span class='va'>carb</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='va'>mtcars2</span><span class='op'>$</span><span class='va'>carb</span><span class='op'>)</span>
<span class='va'>mtcars2</span><span class='op'>$</span><span class='va'>cyl</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='va'>mtcars2</span><span class='op'>$</span><span class='va'>cyl</span><span class='op'>)</span>
<span class='va'>mtcars.mix</span> <span class='op'>&lt;-</span> <span class='fu'><a href='rfsrc.html'>rfsrc</a></span><span class='op'>(</span><span class='fu'>Multivar</span><span class='op'>(</span><span class='va'>carb</span>, <span class='va'>mpg</span>, <span class='va'>cyl</span><span class='op'>)</span> <span class='op'>~</span> <span class='va'>.</span>, data <span class='op'>=</span> <span class='va'>mtcars2</span><span class='op'>)</span>
<span class='fu'>plot.variable</span><span class='op'>(</span><span class='va'>mtcars.mix</span>, m.target <span class='op'>=</span> <span class='st'>"cyl"</span>, target <span class='op'>=</span> <span class='st'>"4"</span>, partial <span class='op'>=</span> <span class='cn'>TRUE</span>, nvar <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>
<span class='fu'>plot.variable</span><span class='op'>(</span><span class='va'>mtcars.mix</span>, m.target <span class='op'>=</span> <span class='st'>"cyl"</span>, target <span class='op'>=</span> <span class='fl'>2</span>, partial <span class='op'>=</span> <span class='cn'>TRUE</span>, nvar <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>


<span class='co'># }</span>
</pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://ishwaran.org/ishwaran.html'>Hemant Ishwaran</a>, Udaya B. Kogalur.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


