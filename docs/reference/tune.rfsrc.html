<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Tune Random Forest for the optimal mtry and nodesize parameters — tune.rfsrc • Fast Unified Random Forests with randomForestSRC</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Tune Random Forest for the optimal mtry and nodesize parameters — tune.rfsrc" />
<meta property="og:description" content="Finds the optimal mtry and nodesize tuning parameter for a random
  forest using out-of-bag (OOB) error.  Applies to all families." />
<meta property="og:image" content="https://luminwin.github.io/randomForestSRC/logo.svg" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-WZWXVK817Z"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-WZWXVK817Z');
</script>


  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">Fast Unified Random Forests with randomForestSRC</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Development version">3.0.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../articles/getstarted.html">
    <span class="fas fa-home fa-lg"></span>
     
    Getting Started
  </a>
</li>
<li>
  <a href="../articles/installation.html">Installation</a>
</li>
<li>
  <a href="../cheatsheets.pdf">Cheatsheet</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/parallel.html">Parallel Processing</a>
    </li>
    <li>
      <a href="../articles/hybrid.html">Hybrid Parallel Processing</a>
    </li>
    <li>
      <a href="../articles/algorithm.html">randomForestSRC Algorithm</a>
    </li>
    <li>
      <a href="../articles/speedup.html">Speedup Random Forest Analyses</a>
    </li>
    <li>
      <a href="../articles/forestWgt.html">Forest Weights, In-Bag (IB) and Out-of-Bag (OOB) Ensembles</a>
    </li>
    <li>
      <a href="../articles/survival.html">Random Survival Forests</a>
    </li>
    <li>
      <a href="../articles/competing.html">Competing Risks</a>
    </li>
    <li>
      <a href="../articles/imbalance.html">Random Forests Quantile Classifier (RFQ)</a>
    </li>
    <li>
      <a href="../articles/mvsplit.html">Multivariate Splitting Rule</a>
    </li>
    <li>
      <a href="../articles/sidClustering.html">sidClustering</a>
    </li>
    <li>
      <a href="../articles/rfsrc-subsample.html">Variable Importance (VIMP) with Subsampling Inference</a>
    </li>
    <li>
      <a href="../articles/minidep.html">Minimal Depth</a>
    </li>
    <li>
      <a href="../articles/partial.html">Partial Plots</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Manual</a>
</li>
<li>
  <a href="https://github.com/kogalur/randomForestSRC/issues">Bug Reporting</a>
</li>
<li>
  <a href="https://github.com/kogalur/randomForestSRC/discussions">Discussions</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
<li>
  <a href="https://kogalur.github.io/randomForestSRC/javadoc">Java API</a>
</li>
<li>
  <a href="https://github.com/kogalur/randomForestSRC/">
    <span class="fab fa-github fa-lg"></span>
     
    GitHub
  </a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Tune Random Forest for the optimal mtry and nodesize parameters</h1>
    
    <div class="hidden name"><code>tune.rfsrc.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Finds the optimal mtry and nodesize tuning parameter for a random
  forest using out-of-bag (OOB) error.  Applies to all families.</p>
    </div>

    <pre class="usage"><span class='fu'>tune</span><span class='op'>(</span><span class='va'>formula</span>, <span class='va'>data</span>,
  mtryStart <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>ncol</a></span><span class='op'>(</span><span class='va'>data</span><span class='op'>)</span> <span class='op'>/</span> <span class='fl'>2</span>,
  nodesizeTry <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>9</span>, <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='fl'>10</span>, <span class='fl'>100</span>, by <span class='op'>=</span> <span class='fl'>5</span><span class='op'>)</span><span class='op'>)</span>, ntreeTry <span class='op'>=</span> <span class='fl'>100</span>,
  sampsize <span class='op'>=</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span><span class='op'>{</span><span class='fu'><a href='https://rdrr.io/r/base/Extremes.html'>min</a></span><span class='op'>(</span><span class='va'>x</span> <span class='op'>*</span> <span class='fl'>.632</span>, <span class='fu'><a href='https://rdrr.io/r/base/Extremes.html'>max</a></span><span class='op'>(</span><span class='fl'>150</span>, <span class='va'>x</span> <span class='op'>^</span> <span class='op'>(</span><span class='fl'>3</span><span class='op'>/</span><span class='fl'>4</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span><span class='op'>}</span>,
  nsplit <span class='op'>=</span> <span class='fl'>1</span>, stepFactor <span class='op'>=</span> <span class='fl'>1.25</span>, improve <span class='op'>=</span> <span class='fl'>1e-3</span>, strikeout <span class='op'>=</span> <span class='fl'>3</span>, maxIter <span class='op'>=</span> <span class='fl'>25</span>,
  trace <span class='op'>=</span> <span class='cn'>FALSE</span>, doBest <span class='op'>=</span> <span class='cn'>FALSE</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>tune.nodesize</span><span class='op'>(</span><span class='va'>formula</span>, <span class='va'>data</span>,
  nodesizeTry <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>9</span>, <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='fl'>10</span>, <span class='fl'>150</span>, by <span class='op'>=</span> <span class='fl'>5</span><span class='op'>)</span><span class='op'>)</span>, ntreeTry <span class='op'>=</span> <span class='fl'>100</span>,
  sampsize <span class='op'>=</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span><span class='op'>{</span><span class='fu'><a href='https://rdrr.io/r/base/Extremes.html'>min</a></span><span class='op'>(</span><span class='va'>x</span> <span class='op'>*</span> <span class='fl'>.632</span>, <span class='fu'><a href='https://rdrr.io/r/base/Extremes.html'>max</a></span><span class='op'>(</span><span class='fl'>150</span>, <span class='va'>x</span> <span class='op'>^</span> <span class='op'>(</span><span class='fl'>4</span><span class='op'>/</span><span class='fl'>5</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span><span class='op'>}</span>,
  nsplit <span class='op'>=</span> <span class='fl'>1</span>, trace <span class='op'>=</span> <span class='cn'>TRUE</span>, <span class='va'>...</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>formula</th>
      <td><p>A symbolic description of the model to be fit.</p></td>
    </tr>
    <tr>
      <th>data</th>
      <td><p>Data frame containing the y-outcome and x-variables.</p></td>
    </tr>
    <tr>
      <th>mtryStart</th>
      <td><p>Starting value of mtry.</p></td>
    </tr>
    <tr>
      <th>nodesizeTry</th>
      <td><p>Values of nodesize optimized over.</p></td>
    </tr>
    <tr>
      <th>ntreeTry</th>
      <td><p>Number of trees used for the tuning step.</p></td>
    </tr>
    <tr>
      <th>sampsize</th>
      <td><p>Function specifying requested size of subsampled data.
    Can also be passed in as a number.</p></td>
    </tr>
    <tr>
      <th>nsplit</th>
      <td><p>Number of random splits used for splitting.</p></td>
    </tr>
    <tr>
      <th>stepFactor</th>
      <td><p>At each iteration, mtry is inflated (or deflated) by
    this value.</p></td>
    </tr>
    <tr>
      <th>improve</th>
      <td><p>The (relative) improvement in OOB error must be by this
    much for the search to continue.</p></td>
    </tr>
    <tr>
      <th>strikeout</th>
      <td><p>The search is discontinued when the relative
    improvement in OOB error is negative.  However <code>strikeout</code>
    allows for some tolerance in this.  If a negative improvement is
    noted a total of <code>strikeout</code> times, the search is stopped.
    Increase this value only if you want an exhaustive search.</p></td>
    </tr>
    <tr>
      <th>maxIter</th>
      <td><p>The maximum number of iterations allowed for each mtry
    bisection search.</p></td>
    </tr>
    <tr>
      <th>trace</th>
      <td><p>Print the progress of the search?</p></td>
    </tr>
    <tr>
      <th>doBest</th>
      <td><p>Return a forest fit with the optimal mtry and nodesize parameters?</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Further options to be passed to <code><a href='rfsrc.fast.html'>rfsrc.fast</a></code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p><code>tune</code> returns a matrix whose first and second
  columns contain the nodesize and mtry values searched and whose third
  column is the corresponding OOB error.  Uses standardized OOB error
  and in the case of multivariate forests it is the averaged
  standardized OOB error over the outcomes and for competing risks it is
  the averaged standardized OOB error over the event types.</p>
<p>If <code>doBest=TRUE</code>, also returns a forest object fit using the
  optimal <code>mtry</code> and <code>nodesize</code> values.</p>
<p>All calculations (including the final optimized forest) are based on
  the fast forest interface <code><a href='rfsrc.fast.html'>rfsrc.fast</a></code> which utilizes
  subsampling.  However, while this yields a fast optimization strategy,
  such a solution can only be considered approximate.  Users may wish to
  tweak various options to improve accuracy.  Increasing the default
  <code>sampsize</code> will definitely help. Increasing <code>ntreeTry</code>
  (which is set to 100 for speed) may also help.  It is also useful to
  look at contour plots of the OOB error as a function of <code>mtry</code>
  and <code>nodesize</code> (see example below) to identify regions of the
  parameter space where error rate is small.</p>
<p><code>tune.nodesize</code> returns the optimal nodesize where optimization is
  over <code>nodesize</code> only.</p>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Hemant Ishwaran and Udaya B. Kogalur</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code class='command'><a href='rfsrc.fast.html'>rfsrc.fast</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='co'># \donttest{</span>
<span class='co'>## ------------------------------------------------------------</span>
<span class='co'>## White wine classification example</span>
<span class='co'>## ------------------------------------------------------------</span>

<span class='co'>## load the data</span>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='va'>wine</span>, package <span class='op'>=</span> <span class='st'>"randomForestSRC"</span><span class='op'>)</span>
<span class='va'>wine</span><span class='op'>$</span><span class='va'>quality</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='va'>wine</span><span class='op'>$</span><span class='va'>quality</span><span class='op'>)</span>

<span class='co'>## default tuning call</span>
<span class='va'>o</span> <span class='op'>&lt;-</span> <span class='fu'>tune</span><span class='op'>(</span><span class='va'>quality</span> <span class='op'>~</span> <span class='va'>.</span>, <span class='va'>wine</span>, doBest <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>

<span class='co'>## here is the optimized forest </span>
<span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>o</span><span class='op'>$</span><span class='va'>rf</span><span class='op'>)</span>

<span class='co'>## visualize the nodesize/mtry OOB surface</span>
<span class='kw'>if</span> <span class='op'>(</span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='st'>"akima"</span>, logical.return <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>{</span>

  <span class='co'>## nice little wrapper for plotting results</span>
  <span class='va'>plot.tune</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>o</span>, <span class='va'>linear</span> <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span> <span class='op'>{</span>
    <span class='va'>x</span> <span class='op'>&lt;-</span> <span class='va'>o</span><span class='op'>$</span><span class='va'>results</span><span class='op'>[</span>,<span class='fl'>1</span><span class='op'>]</span>
    <span class='va'>y</span> <span class='op'>&lt;-</span> <span class='va'>o</span><span class='op'>$</span><span class='va'>results</span><span class='op'>[</span>,<span class='fl'>2</span><span class='op'>]</span>
    <span class='va'>z</span> <span class='op'>&lt;-</span> <span class='va'>o</span><span class='op'>$</span><span class='va'>results</span><span class='op'>[</span>,<span class='fl'>3</span><span class='op'>]</span>
    <span class='va'>so</span> <span class='op'>&lt;-</span> <span class='fu'>interp</span><span class='op'>(</span>x<span class='op'>=</span><span class='va'>x</span>, y<span class='op'>=</span><span class='va'>y</span>, z<span class='op'>=</span><span class='va'>z</span>, linear <span class='op'>=</span> <span class='va'>linear</span><span class='op'>)</span>
    <span class='va'>idx</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/which.min.html'>which.min</a></span><span class='op'>(</span><span class='va'>z</span><span class='op'>)</span>
    <span class='va'>x0</span> <span class='op'>&lt;-</span> <span class='va'>x</span><span class='op'>[</span><span class='va'>idx</span><span class='op'>]</span>
    <span class='va'>y0</span> <span class='op'>&lt;-</span> <span class='va'>y</span><span class='op'>[</span><span class='va'>idx</span><span class='op'>]</span>
    <span class='fu'><a href='https://rdrr.io/r/graphics/filled.contour.html'>filled.contour</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>so</span><span class='op'>$</span><span class='va'>x</span>,
                   y <span class='op'>=</span> <span class='va'>so</span><span class='op'>$</span><span class='va'>y</span>,
                   z <span class='op'>=</span> <span class='va'>so</span><span class='op'>$</span><span class='va'>z</span>,
                   xlim <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/range.html'>range</a></span><span class='op'>(</span><span class='va'>so</span><span class='op'>$</span><span class='va'>x</span>, finite <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span> <span class='op'>+</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='op'>-</span><span class='fl'>2</span>, <span class='fl'>2</span><span class='op'>)</span>,
                   ylim <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/range.html'>range</a></span><span class='op'>(</span><span class='va'>so</span><span class='op'>$</span><span class='va'>y</span>, finite <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span> <span class='op'>+</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='op'>-</span><span class='fl'>2</span>, <span class='fl'>2</span><span class='op'>)</span>,
                   color.palette <span class='op'>=</span>
                     <span class='fu'><a href='https://rdrr.io/r/grDevices/colorRamp.html'>colorRampPalette</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"yellow"</span>, <span class='st'>"red"</span><span class='op'>)</span><span class='op'>)</span>,
                   xlab <span class='op'>=</span> <span class='st'>"nodesize"</span>,
                   ylab <span class='op'>=</span> <span class='st'>"mtry"</span>,
                   main <span class='op'>=</span> <span class='st'>"error rate for nodesize and mtry"</span>,
                   key.title <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/graphics/title.html'>title</a></span><span class='op'>(</span>main <span class='op'>=</span> <span class='st'>"OOB error"</span>, cex.main <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>,
                   plot.axes <span class='op'>=</span> <span class='op'>{</span><span class='fu'><a href='https://rdrr.io/r/graphics/axis.html'>axis</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>)</span>;<span class='fu'><a href='https://rdrr.io/r/graphics/axis.html'>axis</a></span><span class='op'>(</span><span class='fl'>2</span><span class='op'>)</span>;<span class='fu'><a href='https://rdrr.io/r/graphics/points.html'>points</a></span><span class='op'>(</span><span class='va'>x0</span>,<span class='va'>y0</span>,pch<span class='op'>=</span><span class='st'>"x"</span>,cex<span class='op'>=</span><span class='fl'>1</span>,font<span class='op'>=</span><span class='fl'>2</span><span class='op'>)</span>;
                                <span class='fu'><a href='https://rdrr.io/r/graphics/points.html'>points</a></span><span class='op'>(</span><span class='va'>x</span>,<span class='va'>y</span>,pch<span class='op'>=</span><span class='fl'>16</span>,cex<span class='op'>=</span><span class='fl'>.25</span><span class='op'>)</span><span class='op'>}</span><span class='op'>)</span>
  <span class='op'>}</span>

  <span class='co'>## plot the surface</span>
  <span class='fu'>plot.tune</span><span class='op'>(</span><span class='va'>o</span><span class='op'>)</span>

<span class='op'>}</span>

<span class='co'>## ------------------------------------------------------------</span>
<span class='co'>## tuning for class imbalanced data problem</span>
<span class='co'>## - see imbalanced function for details</span>
<span class='co'>## - use rfq and perf.type = "gmean" </span>
<span class='co'>## ------------------------------------------------------------</span>

<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='va'>breast</span>, package <span class='op'>=</span> <span class='st'>"randomForestSRC"</span><span class='op'>)</span>
<span class='va'>breast</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/na.fail.html'>na.omit</a></span><span class='op'>(</span><span class='va'>breast</span><span class='op'>)</span>
<span class='va'>o</span> <span class='op'>&lt;-</span> <span class='fu'>tune</span><span class='op'>(</span><span class='va'>status</span> <span class='op'>~</span> <span class='va'>.</span>, data <span class='op'>=</span> <span class='va'>breast</span>, rfq <span class='op'>=</span> <span class='cn'>TRUE</span>, perf.type <span class='op'>=</span> <span class='st'>"gmean"</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>o</span><span class='op'>)</span>


<span class='co'>## ------------------------------------------------------------</span>
<span class='co'>## tune nodesize for competing risk - wihs data </span>
<span class='co'>## ------------------------------------------------------------</span>

<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='va'>wihs</span>, package <span class='op'>=</span> <span class='st'>"randomForestSRC"</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='fu'>tune.nodesize</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/pkg/survival/man/Surv.html'>Surv</a></span><span class='op'>(</span><span class='va'>time</span>, <span class='va'>status</span><span class='op'>)</span> <span class='op'>~</span> <span class='va'>.</span>, <span class='va'>wihs</span>, trace <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span><span class='op'>$</span><span class='va'>err</span><span class='op'>)</span>

<span class='co'># }</span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://ishwaran.org/ishwaran.html'>Hemant Ishwaran</a>, Udaya B. Kogalur.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


